<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
        .done {
            text-decoration: line-through;
        }
    </style>
</head>

<body>
<div>
    1)Не забыть изменить строку в файле config/environments/production.ru :
    #config.action_mailer.default_url_options = { :host => 'yourapp.heroku.com' }
    подробнее на:
    http://stackoverflow.com/questions/4114835/heroku-devise-missing-host-to-link-to-please-provide-host-parameter-or-set-d
</div>
<div>
    2)Научить девайс давать пароли по уже созданным имейлам
</div>
<div class='done'>
    3) Лайтбокс на new беседы
</div>
<div class='done'>
    4) Сделать navbar
</div>
<div class='done'>
    5) валидация на беседу: должна кому-то принадлежать!
</div>
<div class='done'>
    5.1) Открывший беседу не считается
</div>

<div>
    6) доделать сообщения девайса подобно registration edit, кнопки и прочие бутсрап
</div>
<div>
    7) подтверждение регистрации по email
</div>
<div class='done'>
    8) в chosen-rails изменить placeholder и no_result_text
</div>
<div>
   9) при написании create для чата не забыть о валидации и алертах на вьюху
</div>
<div>
    10) сменить адреса файе для продакшена
</div>
<div class="done">
    11) убрать часть подгрузок из лейаута, а то слишком долго загружается страница
</div>
<div>
    12) кеширование в ChatsController#details
</div>
<div class="done">
    13) Валидации: User.name, Chat.subject
</div>
<div>
    14) Сделать уаление: обязательно сделать что-то типа депендент дестрой
        Можно начать с того что если кто то удаляет чат то удаляются и сообщения из него
        Или не делать реального удаления, а помечать как удален (м.б. использольвать гем)
</div>
<div>
    15) Сделать поиск в chosen-rails AJAX - запросами
</div>
<div>
    16) Корявая кнопка "Добавить собеседника"
</div>
<div>
    17) Возможно код по запрету самодобавления в друзьья в UserFriendAssingment не нужен по
    причине того, что код User.find(n).friends << User.find(n) не работает
    Ответ: код нужен, однако сообщение об ошибке в этом коде витает неизвестно где - это
    проблема
</div>
<div>
    18) ВНИМАНИЕ: КОСТЫЛЬ!!!!!11111
    <br>
    Так как плейсхолдеры chosen можно переопределить на вьюхе, остается только одна надпись без
    локализации: 'No results match' - в случае отсутсвия результатов поиска chosen.
    В связи с этим было добавлено:
    <br>
    - В файл app/views/layouts/application.html.haml в самое начало тега body
    скрытая текущая локаль
    <br>
    - В файл app/assets/javascripts/chosen.js.coffee в начале файла по этой текущей локали
    определяется no_results_text (русский или английский)
    <br>
    Как только возникнет необходимость перевести, что либо еще, что НЕ было специально для эттго
    положено на вьюху (т.е. все непреднаменренные переводы на вьюхах не считаются)
    надо создать TranslationController, к которому обратьщаться ajax-запросами и исправить
    этот костыль!
</div>
<div class='done'>
    19) БАГ: в скписке собеседников в правой части таблицы выдаються все беседы собеседника
    этой строки, нужно же только общие к курретн юзером
</div>
<div>
    20) Неадекватное поведение chosen в систуации, когда соответстующий селект реквайрид,
    незаполнен при сабмите
        - в chrome просто вызывается ошибка вида
    An invalid form control with name='user_friend_assignment[friend_id]' is not focusable.
        - в firefox благодаря html5 в левом нижнем углу высовывается кусок сообщения о том что
    селект реквайрид а сам селект дисплей нон
    Должно быть работать без консольных ошибок, чузен должен как и все другие реквайрид поля
    незаполненные при сабмите быть в красной рамке (бутстрап стайл) и иметь большую
    бутстраповскую плашку "Заполните это поле"
</div>
<div>
    21) ОБЯЗАТЕЛЬНО: сделать ограничение на количество запросов нового сообщения с одной и
    той же страницы чата в час
</div>
<div>
    22) Написать МессаджРаспределятор - распределяет полученные сообщения по чатам. Можно взять за
    основу алгоритм: поместить полученное сообщение с ящика А в чат, владельцем которого является
    куррент юзер и в котором он написал сообщение на ящик А позднее всего
</div>

</body>
</html>

